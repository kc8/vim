#!/usr/bin/env bash

LANGUAGE=`echo "java go scala cpp c javascript nodejs" | tr ' ' '\n'`
TOOLS=`echo "xargs find mv sed awk jq duckdb" | tr ' ' '\n'`
selected=`printf "$LANGUAGE\n$TOOLS" | fzf`
read -p "Enter Search: " query

if printf "$LANGUAGE" | grep -qs $selected; then
  QUERY="curl -s cht.sh/$selected/$(echo "$query" | tr ' ' '+') & while [ : ]; do sleep 1; done"
  $QUERY | less
else
  curl -s cht.sh/$selected | less
  echo $selected
fi
